<h1 align="center">第二次过程报告</h1>

<p align="right">--计算机1801夏清来-20184493</p>

## 第四天

上节课符号表基本功能已经完成，但现在只能实际应用于基础的一些功能，数组，函数的表虽然已经设计，但具体的填写与查找等于外部的接口还需要优化。本节课主要工作如下：
+ 确定了符号表在语法分析中的使用方法：1.对于全局变量，则查全局变量表。查重可用查重函数。填表时可用填表函数，填表函数也能对变量是否已经定义做出判断。2.对于局部变量则先通过变量所在的函数表查对应的局部变量表，若未查到则再查全局变量表，其他步骤同全局变量。
+ 关于数组存储，首先考虑了将其存在活动记录中。但由于在活动记录中的元素难以查找与填写，决定将其以如下方式存储：1.将数组名作为一个变量存储在符号表中。2.将数组的每一个单元都作为一个单独的变量存储，存储时标识符为数组名[序号]。这样便易于数组中元素的存取。但此种方法与书中所学方法有所不同。因此可能在后续的目标代码生成阶段可能会出现问题。
+ 关于函数存储，使用与数组类似的方法，对每个函数建立自己的函数表，而非采用活动记录，主要原因是我认为此种方法可替代活动记录的功能，另外也易于表的填写与查找。在函数中建立参数表存储参数的区距与层次，以替代活动记录。

## 第五天

前一天符号表的编写已经完成，开始参与语法分析与四元式生成部分的工作：
+ 在之前语法分析部分的编写中，语法结构有所修改，将变量，数组与函数的声明合在了一起。我首先阅读了部分之前同学完成的相关代码。并开始关于函数的声明与定义的编写
+ 将上节课确定的函数在符号表中的存储方式实际应用于语法分析。
+ 对于编译器前端进行测试，对于简单的语句，可正常输出优化前的四元式。
+ 经过语法分析部分代码的编写，发现符号表部分接口函数有一些冗余，若能将部分功能整合到语法分析中。可减少代码量，但可能不利于多人分工的编写

## 第六天

+ 现阶段前端部分已基本可以实现功能，但在一些特殊的情况还是会出现符号表混乱的问题，故对一些填表操作进行了优化。
+ 通过目标代码生成同学的测试，部分产生的四元式不能满足其目标代码生成的需求。问题主要集中在数组中单元值的存储和函数变量的传递。由于汇编语言中数据段需提前定义，与C语言有所不同，但在四元式中难以传递函数的全部参数。因此若要完成自定义函数的功能，此问题需要解决。




